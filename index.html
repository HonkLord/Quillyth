<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>D&D Campaign Manager</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="./css/main.css?v=1.1" />
  </head>
  <body>
    <div class="app-container">
      <!-- Top Navigation Bar -->
      <header class="top-nav">
        <div class="nav-left">
          <h1
            class="campaign-title"
            data-action="edit-campaign-title"
            title="Click to edit campaign title"
            role="button"
            tabindex="0"
            aria-label="Campaign title - click to edit"
          >
            <i class="fas fa-dragon" aria-hidden="true"></i>
            D&D Campaign
          </h1>
        </div>

        <nav class="nav-center">
          <div
            class="main-nav-tabs"
            role="tablist"
            aria-label="Main navigation"
          >
            <button
              id="nav-dashboard"
              class="main-nav-tab active"
              data-section="dashboard"
              data-action="show-dashboard"
              role="tab"
              aria-selected="true"
              aria-controls="dashboard-content"
            >
              <i class="fas fa-home" aria-hidden="true"></i>
              <span>Dashboard</span>
            </button>
            <button
              id="nav-scenes"
              class="main-nav-tab"
              data-section="scenes"
              data-action="show-scenes"
              role="tab"
              aria-selected="false"
              aria-controls="scenes-content"
            >
              <i class="fas fa-theater-masks" aria-hidden="true"></i>
              <span>Scenes</span>
            </button>
            <button
              id="nav-characters"
              class="main-nav-tab"
              data-section="characters"
              data-action="show-characters"
              role="tab"
              aria-selected="false"
              aria-controls="characters-content"
            >
              <i class="fas fa-users" aria-hidden="true"></i>
              <span>Characters</span>
            </button>
            <button
              id="nav-relationships"
              class="main-nav-tab"
              data-section="relationships"
              data-action="show-relationships"
              role="tab"
              aria-selected="false"
              aria-controls="relationships-content"
            >
              <i class="fas fa-project-diagram" aria-hidden="true"></i>
              <span>Relationships</span>
            </button>
            <button
              id="nav-locations"
              class="main-nav-tab"
              data-section="locations"
              data-action="show-locations"
              role="tab"
              aria-selected="false"
              aria-controls="locations-content"
            >
              <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
              <span>Locations</span>
            </button>
            <button
              id="nav-quests"
              class="main-nav-tab"
              data-section="quests"
              data-action="show-quests"
              role="tab"
              aria-selected="false"
              aria-controls="quests-content"
            >
              <i class="fas fa-scroll" aria-hidden="true"></i>
              <span>Quests</span>
            </button>
            <button
              id="nav-notes"
              class="main-nav-tab"
              data-section="notes"
              data-action="show-notes"
              role="tab"
              aria-selected="false"
              aria-controls="notes-content"
            >
              <i class="fas fa-sticky-note" aria-hidden="true"></i>
              <span>Notes</span>
            </button>
            <button
              id="nav-sessions"
              class="main-nav-tab"
              data-section="sessions"
              data-action="show-sessions"
              role="tab"
              aria-selected="false"
              aria-controls="sessions-content"
            >
              <i class="fas fa-calendar-alt" aria-hidden="true"></i>
              <span>Sessions</span>
            </button>
            <button
              id="nav-campaign"
              class="main-nav-tab"
              data-section="campaign"
              data-action="show-campaign"
              role="tab"
              aria-selected="false"
              aria-controls="campaign-content"
            >
              <i class="fas fa-book" aria-hidden="true"></i>
              <span>Campaign</span>
            </button>
            <button
              id="nav-export-import"
              class="main-nav-tab"
              data-section="export-import"
              data-action="show-export-import"
              role="tab"
              aria-selected="false"
              aria-controls="export-import-content"
            >
              <i class="fas fa-download" aria-hidden="true"></i>
              <span>Export/Import</span>
            </button>
          </div>
        </nav>

        <div class="nav-right">
          <!-- Search Bar (contextual to active section) -->
          <div class="search-container" id="search-container">
            <input
              type="text"
              id="scene-search"
              class="search-input"
              placeholder="Search..."
            />
          </div>

          <!-- Quick Actions -->
          <div class="quick-actions">
            <button
              class="quick-action-btn"
              onclick="document.getElementById('scene-search')?.focus()"
              title="Search (Ctrl+K)"
            >
              <i class="fas fa-search"></i>
            </button>
            <button
              class="quick-action-btn"
              data-action="show-quick-actions"
              title="Quick Actions"
            >
              <i class="fas fa-bolt"></i>
            </button>
            <button class="quick-action-btn" title="Settings">
              <i class="fas fa-cog"></i>
            </button>
            <button class="quick-action-btn" title="Help">
              <i class="fas fa-question-circle"></i>
            </button>
          </div>
        </div>
      </header>

      <!-- Main Content Area (Full Width) -->
      <main id="main-content" class="main-content-full">
        <!-- Workspace Header (Secondary Navigation) -->
        <div class="workspace-header" id="workspace-header">
          <div class="workspace-title-section">
            <h2 class="workspace-title" id="workspace-title">Dashboard</h2>
            <p class="workspace-subtitle" id="workspace-subtitle">
              Campaign overview and statistics
            </p>
          </div>

          <!-- Workspace Tabs (Secondary level) -->
          <div class="workspace-tabs" id="workspace-tabs">
            <!-- Dynamic tabs will be inserted here based on current section -->
          </div>

          <!-- Workspace Actions -->
          <div class="workspace-actions" id="workspace-actions">
            <!-- Dynamic action buttons will be inserted here -->
          </div>
        </div>

        <!-- Content Area -->
        <div class="content-area" id="content-area">
          <!-- Welcome/Dashboard Content -->
          <div
            id="dashboard-content"
            class="workspace-content active"
            role="tabpanel"
            aria-labelledby="nav-dashboard"
          >
            <div class="management-panel">
              <div class="dashboard-grid">
                <!-- Quick Stats -->
                <div class="dashboard-section">
                  <h3 class="section-title">
                    <i class="fas fa-chart-line"></i>
                    Campaign Overview
                  </h3>
                  <div class="quick-stats">
                    <div class="stat-card">
                      <i class="fas fa-theater-masks"></i>
                      <div class="stat-title">Scenes</div>
                      <div class="stat-description" id="scenes-count">
                        Loading...
                      </div>
                    </div>
                    <div class="stat-card">
                      <i class="fas fa-users"></i>
                      <div class="stat-title">Players</div>
                      <div class="stat-description" id="players-count">
                        Loading...
                      </div>
                    </div>
                    <div class="stat-card">
                      <i class="fas fa-crossroads"></i>
                      <div class="stat-title">Scene Options</div>
                      <div class="stat-description" id="options-count">
                        Loading...
                      </div>
                    </div>
                    <div class="stat-card">
                      <i class="fas fa-users"></i>
                      <div class="stat-title">Characters</div>
                      <div class="stat-description" id="characters-count">
                        Loading...
                      </div>
                    </div>
                    <div class="stat-card">
                      <i class="fas fa-scroll"></i>
                      <div class="stat-title">Quests</div>
                      <div class="stat-description" id="quest-count">
                        Loading...
                      </div>
                    </div>
                    <div class="stat-card">
                      <i class="fas fa-sticky-note"></i>
                      <div class="stat-title">Notes</div>
                      <div class="stat-description" id="notes-count">
                        Loading...
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Recent Activity -->
                <div class="dashboard-section full-width">
                  <h3 class="section-title">
                    <i class="fas fa-clock"></i>
                    Getting Started
                  </h3>
                  <div class="getting-started-guide">
                    <div class="guide-step">
                      <div class="step-number">1</div>
                      <div class="step-content">
                        <h4>Create your first scene</h4>
                        <p>
                          Start by creating interactive narrative scenes in the
                          Scenes workspace
                        </p>
                      </div>
                    </div>
                    <div class="guide-step">
                      <div class="step-number">2</div>
                      <div class="step-content">
                        <h4>Add your players</h4>
                        <p>
                          Create player profiles with character details and
                          backgrounds
                        </p>
                      </div>
                    </div>
                    <div class="guide-step">
                      <div class="step-number">3</div>
                      <div class="step-content">
                        <h4>Add branching paths</h4>
                        <p>
                          Create dynamic options and choices that lead to
                          different outcomes
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Dynamic Workspace Content Areas -->
          <div
            id="locations-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-locations"
            hidden
          >
            <!-- Main content area for location details -->
            <div id="content" class="location-detail-content">
              <!-- Location content will be inserted here -->
            </div>
          </div>

          <div
            id="scenes-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-scenes"
            hidden
          >
            <!-- Scenes workspace content will be inserted here -->
          </div>

          <div
            id="characters-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-characters"
            hidden
          >
            <!-- Characters workspace content will be inserted here -->
          </div>

          <div
            id="relationships-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-relationships"
            hidden
          >
            <!-- Relationships workspace content will be inserted here -->
          </div>

          <div
            id="quests-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-quests"
            hidden
          >
            <!-- Quests workspace content will be inserted here -->
          </div>

          <div
            id="notes-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-notes"
            hidden
          >
            <!-- Notes workspace content will be inserted here -->
          </div>

          <div
            id="sessions-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-sessions"
            hidden
          >
            <!-- Sessions workspace content will be inserted here -->
          </div>

          <div
            id="campaign-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-campaign"
            hidden
          >
            <!-- Campaign workspace content will be inserted here -->
          </div>

          <div
            id="export-import-content"
            class="workspace-content"
            role="tabpanel"
            aria-labelledby="nav-export-import"
            hidden
          >
            <!-- Export/Import workspace content will be inserted here -->
          </div>
        </div>
      </main>

      <!-- Scene Tree/Navigation Panel (Collapsible) -->
      <div id="scene-tree-panel" class="scene-tree-panel hidden">
        <div class="scene-tree-header">
          <h3><i class="fas fa-sitemap"></i> Scene Navigation</h3>
          <button class="close-panel-btn" data-action="toggle-scene-tree">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div id="nav-content-tree" class="nav-content-tree">
          <!-- Scene hierarchy will be inserted here -->
        </div>
      </div>
    </div>

    <!-- Main Application Module -->
    <script src="js/app.js" type="module"></script>
  </body>
</html>
